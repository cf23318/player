<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>videojs-contrib-hls embed</title>
  <link href="https://unpkg.com/video.js@6.7.3/dist/video-js.css" rel="stylesheet">
</head>
<body>
  <h1>Video.js Example Embed</h1>

  <video-js id="my_video_1" class="vjs-default-skin" width="640" height="268"></video-js>

  <script src="https://unpkg.com/video.js@6.7.3/dist/video.js"></script>
  <!-- <script src="https://unpkg.com/@videojs/http-streaming/dist/videojs-http-streaming.js"></script> -->
  <script src="https://cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js"></script>

  <script>
    videojs.Html5Hlsjs.addHook('beforeinitialize', function (videojsPlayer, hlsjs) {
      videojsPlayer.hlsjs = hlsjs;
    });

    var player = window.player = videojs('my_video_1', {
      controls: true,
      // preload: 'metadata',
      // preload: 'auto',
      autoplay: true,
      preload: 'none',
      muted: true,
      sources: [{
        // src: 'http://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8',
        // src: 'http://127.0.0.1:5500/static/video/m3u8/play.m3u8',
        // src: `http://ydn15.venomium.com/101909351104001.m3u8`,
        // src: `http://cdn6.panicplanet.com/5tv.m3u8`,
        // src: `../public/video/m3u8/play.m3u8`,
        // src: `https://kvhd1.b-cdn.net/tv11.m3u8?token=UHz2qkmFVTexBjN3Bb-J4Q&expires=1568639564`,
        src: `https://kvhd1.b-cdn.net/tv11.m3u8?token=CNbOKl3eMTGkY_OE62CaGw&expires=1568624381`,
        type: 'application/x-mpegURL'
      }, {
        src: `https://kvhd1.b-cdn.net/tv11.m3u8?token=aSrDRSR_vZEh95XdsGJiaQ&expires=1568639601`,
        type: 'application/x-mpegURL',
      }],
      html5: {
        hlsjsConfig: {
          // Put your hls.js config here
          maxBufferLength: 300
        },
      }
    });

    // console.log(player.currentSources())

    // player.selectSource([player.currentSources()[1]])

    // setTimeout(() => {
    //   // player.cache_.source = player.cache_.sources[1]
    //   // player.cache_.src = player.cache_.sources[1].src

    //   // console.log(player)

    //   player.hlsjs.url = `https://kvhd1.b-cdn.net/tv11.m3u8?token=aSrDRSR_vZEh95XdsGJiaQ&expires=1568639601`
    //   console.log(player.hlsjs)
    // }, 5000);

    // var newOptions = player.options()
    // console.log(newOptions)

    // setTimeout(() => {
    //   console.log('change')
    //   newOptions['sources'] = [
    //     {
    //       src: `https://kvhd1.b-cdn.net/tv11.m3u8?token=aSrDRSR_vZEh95XdsGJiaQ&expires=1568639601`,
    //       type: 'application/x-mpegURL',
    //     }
    //   ];
    //   player.options(newOptions);
    //   player.load()

    //   console.log(player.options())
    // }, 10000);

    // player.preload('auto');

  </script>

</body>
</html>
